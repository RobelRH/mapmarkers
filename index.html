<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Markers</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <h1>this is map markers test</h1>

    <div id="map"></div>

    <!-- <scripts src="script.js"></script> -->
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script async
    src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap">
</script>

</body>
</html>

<script>
    // Initialize and add the map
    function initMap() {
      // The location of Uluru
      const uluru = { lat: 9.005401, lng: 38.763611 };
      // The map, centered at Uluru
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 12,
        center: uluru,
        mapTypeControl: false,
        fullscreenControl: false,
        streetViewControl: false
      });

      const houses = [
          [
            "Boynton Pass",
            9.005401,
            38.763611,
            "icons8-home-16.svg",
            30,
            21
          ]
      ]

      for(let i=0; i < houses.length; i++) {
            const currHouse = houses[0]
            const house = new google.maps.Marker({
              position: {lat: house[1], lng: house[2]},
              map,
              title: house[0],
              icon: {
                url: house[3],
                scaledSize: new google.maps.Size(house[4], house[5])
              }
            })

            const infowindow = new google.maps.InfoWindow({
              content: house[0],

            });

            house.addListener("click", () => {
              infowindow.open(map, house)
            });

      }


    //   houses.forEach(([position, title], i) => {
    //     const marker = new google.maps.Marker({
    //         position,
    //         map,
    //         title: `${i + 1}. ${title}`,
    //         label: `${i + 1}`,
    //         optimized: false,
    //         icon: {
    //           url: 'icons8-home-16.svg',
    //           scaledSize: new google.maps.Size(30, 21)
    //         }
    //     })

    //   })

    //   const contentString =
    //     '<div id="content">' +
    //     '<div id="siteNotice">' +
    //     "</div>" +
    //     '<h1 id="firstHeading" class="firstHeading">John Doe</h1>' +
    //     '<div id="bodyContent">' +
    //     "<p><b>Subcity</b> Bole </p> " +
    //     "<p><b>Location</b> <button>copy location</button> </p> " +
    //     "<p><b>user profile</b>, <a href='http://localhost:3000:/users/johndoe'>user profile link</a> </p>" +
    //     "</div>" +
    //     "</div>";

    //     const infowindow = new google.maps.InfoWindow({
    //       content: contentString,
    //     });

        // Create an info window to share between markers.
        // const infoWindow = new google.maps.InfoWindow();

        // The marker, positioned at Uluru
        // const marker = new google.maps.Marker({
        //   position: uluru,
        //   map: map,
        //   title: "someone\'s house",
        //   icon: {
        //       url: 'icons8-home-16.svg',
        //       scaledSize: new google.maps.Size(30, 21)
        //   }
        // });
        // house.addListener("click", () => {
        // //   infoWindow.close();
        // //   infoWindow.setContent(marker.getTitle());
        // //   infoWindow.open(marker.getMap(), marker);
        // //   infowindow.open({
        // //     anchor: marker,
        // //     map,
        // //     shouldFocus: false,
        // //   });
        //   infowindow.open(map, house)
        // });
    }
</script>